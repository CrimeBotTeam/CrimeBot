#!/usr/bin/env node

'use strict'

const express = require('express');
const request = require('request');
var mongoose = require('mongoose');
const fb = require('../fb.js');
const db = require('../db.js');


db.connect();

//using the db to async get all users of the database, then
//have inline callback function print it out to the console
db.getAll(function(users){
  processNotifs(users);
}
);


function processNotifs(users){
  console.log("processing Notifs");
  users.forEach(sendNotifs);
  process.exit();
}

function sendNotifs(user, index, array){
  console.log("try to sendNotifs to " + user.nickname);
}

//fb.sendText(1363762180329593, "Test message sent from scheduler");

console.log("Scheduler Ran My Script");
